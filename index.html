<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estatísicas para Astrologia</title>
    <meta name="description" content="Página dedicada a estatisticas na Astrologia">
    <meta name="keywords" content="Astrologia, famosos, mapa astral, acendente, lua">
    <meta name="author" content="Sete">

    <meta property="og:title" content="Estatística na Astologia">
    <meta property="og:description" content="Veja aqui o efeito que a astrologia tem na vida e em eventos, com pontos 67 mil">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ytsejammaxpower.github.io/est_astro">

    <link rel="canonical" href="https://ytsejammaxpower.github.io/est_astro">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
        

    <style>
        /* Estilos mantidos conforme solicitado */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: white;
            color: black;
            padding: 20px;
            overflow-x: hidden;
            font-size: 110%;
            text-align: center; /* Centraliza todo o conteúdo */
        }
        .cards {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .card {
            width: 460px;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: justify;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin: auto;
            overflow: hidden; /* Adicionado para manter tudo dentro do card */
        }
        h1, h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .card-description {
            line-height: 1.5;
            font-size: 1.1em;
        }
        @media (max-width: 768px) {
            .card {
                width: 96%;
                margin: 6px auto;
            }
        }
        .email {
            text-align: center;
            margin-bottom: 20px;
            font-size: 0.8em;
            color: gray;
        }
        .links a {
            color: black; /* Cor dos links */
            text-decoration: none; /* Remove sublinhado dos links */
            padding: 0 10px;
            font-size: 0.8em; /* Diminui o tamanho da fonte dos links */
        }
        .card-image {
            text-align: center; /* Centraliza a imagem */
            margin-top: 10px; /* Espaçamento superior */
        }
        .card-image a img {
            max-width: 100%; /* A imagem ocupa no máximo 100% da largura do card */
            max-height: 150px; /* Altura máxima para a imagem */
            height: auto; /* Altura automática para manter proporção */
        }
        .product-link {
            text-align: center;
            display: block;
            font-size: 1.2em;
            margin: 10px 0;
            color: #007bff;
            text-decoration: none;
        }
        .product-link:hover {
            text-decoration: underline;
        }
        .card-image img {
    width: 60%; /* Faz a imagem ocupar 100% da largura do card */
    height: auto; /* Mantém a proporção da altura de acordo com a largura */
    border-radius: 5px; /* Adiciona bordas arredondadas à imagem, se desejado */
}

    </style>
</head>
<body>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H66F5F9Q5E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-H66F5F9Q5E');
    </script>
    
    <h1>Estatísticas para Astrologia</h1>

    <div class="links">
        <a href="https://ytsejammaxpower.github.io/inicio/">Inicio</a> |
        <a href="https://ytsejammaxpower.github.io/thoth/">Sorteio e Interpretação do Tarot de Thoth</a> |
        <a href="https://ytsejammaxpower.github.io/tarot_de_thoth/">Descrição dos Símbolos do Tarot de Thoth</a> |
        <a href="https://ytsejammaxpower.github.io/baralho_cigano/">Descrição do Baralho Cigano</a> |
        <a href="https://ytsejammaxpower.github.io/runas/">Descrição das Runas</a> |
        <a href="https://ytsejammaxpower.github.io/numerologia/">Numerologia básica</a> |
        <a href="https://ytsejammaxpower.github.io/uso">Como usar o Tarot e as Runas</a> |
        <a href="https://ytsejammaxpower.github.io/biblia">Bíblia</a> |
        <a href="https://ytsejammaxpower.github.io/loja_virtual/">Loja Virtual</a>
    </div>

    <hr>
    <div class="email">ytsejam_maxpower@yahoo.com.br</div>
</div>
</div>

<div class="cards">
  <div class="card">
    <h2>Estatística para Astrologia</h2> 
    <p>Muitas vezes tenho ouvido que pessoas com determinado acendente tem mais propensão a seguirem tal atividade ou profissão. Com base nessas afirmações, eu resolvi fazer uma análise estatística e gerei alguns gráficos, agrupando pessoas com qualidades dos seus mapas em comum, nascidas em um determinado dia da semana entre outros. Como 
        resultado podemos ver que em alguns casos realmente há uma probabilidade maior da pessoa seguir um determinado caminho, mas que em geral, pessoas de todos os signos, antecendentes e luas tem caminhos abertos para qualquer atividade ou profissão, bastanto para isso trabalho e posicionamento. 
    Para essas análises eu usei o database da Astrotheme, acessivel gratuitamente através do link: https://www.astrotheme.com/birthdays/january-1.htm. Para mais detalhes, eu deixei o meu codigo python disponível no final dessa página- se usar, por favor verifique se ele está funcionando de acordo com a sua necessidade. </a>
     </p>
  </div>

  <div class="card">
    <h2>Estatísticas para comediante/ator</h2>
    <img src="actor_comedian_sign.png" alt="Plot for comediante/ator" style="width: 100%;">
    <img src="actor_comedian_ascendant.png" alt="Plot for comediante/ator" style="width: 100%;">
    <img src="actor_comedian_moon.png" alt="Plot for comediante/ator" style="width: 100%;">
    <img src="actor_comedian_weekday.png" alt="Plot for comediante/ator" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para autor/escritor</h2>
    <img src="author_writer_sign.png" alt="Plot for autor/escritor" style="width: 100%;">
    <img src="author_writer_ascendant.png" alt="Plot for autor/escritor" style="width: 100%;">
    <img src="author_writer_moon.png" alt="Plot for autor/escritor" style="width: 100%;">
    <img src="author_writer_weekday.png" alt="Plot for autor/escritor" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para cantor/músico</h2>
    <img src="singer_musician_sign.png" alt="Plot for cantor/músico" style="width: 100%;">
    <img src="singer_musician_ascendant.png" alt="Plot for cantor/músico" style="width: 100%;">
    <img src="singer_musician_moon.png" alt="Plot for cantor/músico" style="width: 100%;">
    <img src="singer_musician_weekday.png" alt="Plot for cantor/músico" style="width: 100%;">
</div>
<!-- <div class="card">
    <h2>Estatísticas para apresentador de TV/radio</h2>
    <img src="tv_radio_host_sign.png" alt="Plot for apresentador de TV/radio" style="width: 100%;">
    <img src="tv_radio_host_ascendant.png" alt="Plot for apresentador de TV/radio" style="width: 100%;">
    <img src="tv_radio_host_moon.png" alt="Plot for apresentador de TV/radio" style="width: 100%;">
    <img src="tv_radio_host_weekday.png" alt="Plot for apresentador de TV/radio" style="width: 100%;">
</div> -->
<div class="card">
    <h2>Estatísticas para youtuber</h2>
    <img src="youtuber_sign.png" alt="Plot for youtuber" style="width: 100%;">
    <img src="youtuber_ascendant.png" alt="Plot for youtuber" style="width: 100%;">
    <img src="youtuber_moon.png" alt="Plot for youtuber" style="width: 100%;">
    <img src="youtuber_weekday.png" alt="Plot for youtuber" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para atleta</h2>
    <img src="athlete_sign.png" alt="Plot for atleta" style="width: 100%;">
    <img src="athlete_ascendant.png" alt="Plot for atleta" style="width: 100%;">
    <img src="athlete_moon.png" alt="Plot for atleta" style="width: 100%;">
    <img src="athlete_weekday.png" alt="Plot for atleta" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para montanhista</h2>
    <img src="mountaineer_sign.png" alt="Plot for montanhista" style="width: 100%;">
    <img src="mountaineer_ascendant.png" alt="Plot for montanhista" style="width: 100%;">
    <img src="mountaineer_moon.png" alt="Plot for montanhista" style="width: 100%;">
    <img src="mountaineer_weekday.png" alt="Plot for montanhista" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para jogador</h2>
    <img src="game_player_sign.png" alt="Plot for jogador" style="width: 100%;">
    <img src="game_player_ascendant.png" alt="Plot for jogador" style="width: 100%;">
    <img src="game_player_moon.png" alt="Plot for jogador" style="width: 100%;">
    <img src="game_player_weekday.png" alt="Plot for jogador" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para artista</h2>
    <img src="artist_sign.png" alt="Plot for artista" style="width: 100%;">
    <img src="artist_ascendant.png" alt="Plot for artista" style="width: 100%;">
    <img src="artist_moon.png" alt="Plot for artista" style="width: 100%;">
    <img src="artist_weekday.png" alt="Plot for artista" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para espiritualista</h2>
    <img src="spiritualist_sign.png" alt="Plot for espiritualista" style="width: 100%;">
    <img src="spiritualist_ascendant.png" alt="Plot for espiritualista" style="width: 100%;">
    <img src="spiritualist_moon.png" alt="Plot for espiritualista" style="width: 100%;">
    <img src="spiritualist_weekday.png" alt="Plot for espiritualista" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para cientista</h2>
    <img src="scientist_sign.png" alt="Plot for cientista" style="width: 100%;">
    <img src="scientist_ascendant.png" alt="Plot for cientista" style="width: 100%;">
    <img src="scientist_moon.png" alt="Plot for cientista" style="width: 100%;">
    <img src="scientist_weekday.png" alt="Plot for cientista" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para inventor</h2>
    <img src="inventor_sign.png" alt="Plot for inventor" style="width: 100%;">
    <img src="inventor_ascendant.png" alt="Plot for inventor" style="width: 100%;">
    <img src="inventor_moon.png" alt="Plot for inventor" style="width: 100%;">
    <img src="inventor_weekday.png" alt="Plot for inventor" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para político</h2>
    <img src="politician_sign.png" alt="Plot for político" style="width: 100%;">
    <img src="politician_ascendant.png" alt="Plot for político" style="width: 100%;">
    <img src="politician_moon.png" alt="Plot for político" style="width: 100%;">
    <img src="politician_weekday.png" alt="Plot for político" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para historiador</h2>
    <img src="historian_sign.png" alt="Plot for historiador" style="width: 100%;">
    <img src="historian_ascendant.png" alt="Plot for historiador" style="width: 100%;">
    <img src="historian_moon.png" alt="Plot for historiador" style="width: 100%;">
    <img src="historian_weekday.png" alt="Plot for historiador" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para advogado</h2>
    <img src="lawyer_sign.png" alt="Plot for advogado" style="width: 100%;">
    <img src="lawyer_ascendant.png" alt="Plot for advogado" style="width: 100%;">
    <img src="lawyer_moon.png" alt="Plot for advogado" style="width: 100%;">
    <img src="lawyer_weekday.png" alt="Plot for advogado" style="width: 100%;">
</div>
<div class="card">
    <h2>Estatísticas para jornalista</h2>
    <img src="journalist_sign.png" alt="Plot for jornalista" style="width: 100%;">
    <img src="journalist_ascendant.png" alt="Plot for jornalista" style="width: 100%;">
    <img src="journalist_moon.png" alt="Plot for jornalista" style="width: 100%;">
    <img src="journalist_weekday.png" alt="Plot for jornalista" style="width: 100%;">
</div>

<div class="card">
    <h2>Estatísticas para evento mundial</h2>
    <img src="world_event_sign.png" alt="Plot for evento mundial" style="width: 100%;">
    <img src="world_event_ascendant.png" alt="Plot for evento mundial" style="width: 100%;">
    <img src="world_event_moon.png" alt="Plot for evento mundial" style="width: 100%;">
    <img src="world_event_weekday.png" alt="Plot for evento mundial" style="width: 100%;">
</div>  



<div class="card">
<h2>Código Python para aquisição de dados</h2>
<pre><code class="python">
    import requests
    from bs4 import BeautifulSoup
    import re
    import pandas as pd
    from datetime import datetime, timedelta
    
    
    # Gerar todas as datas no formato 'month-day'
    start_date = datetime.strptime('01-01', '%m-%d')
    end_date = datetime.strptime('01-01', '%m-%d')
    date_generated = [start_date + timedelta(days=x) for x in range(0, (end_date - start_date).days + 1)]
    datas = [date.strftime('%B-%-d').lower() for date in date_generated]
    
    for data in datas:
        def verificar_acesso(url):
            try:
                response = requests.get(url)
                if response.status_code == 200:
                    return response.content
                else:
                    print(f"Erro ao acessar {url}: {response.status_code}")
                    return None
            except requests.RequestException as e:
                print(f"Erro de requisição: {e}")
                return None
    
        def coletar_dados_perfil(conteudo):
            soup = BeautifulSoup(conteudo, 'html.parser')
            
            perfis = soup.find_all('div', class_='headerFiche')
            dados = []
            primeiros_nomes = []
    
            profissoes_lista = [
                'actor', 'actress', 'comedian', 'dancer', 'humorist', 'musician', 'composer', 'singer', 'music-hall artist', 
                'politician', 'historian', 'lawyer', 'journalist', 'reporter', 'tv/radio host', 'youtuber', 
                'athlete', 'mountaineer', 'chess player', 'bridge player', 'author', 'novelist', 'writer', 
                'painter', 'sculptor', 'cartoonist', 'photographer', 'spiritualist', 'astrologer', 'occultist', 
                'scientist', 'inventor', 'architect', 'chronicler', 'commentator', 'world event'
            ]
    
            us_states = {
                'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 
                'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 
                'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY'
            }
    
            for perfil in perfis:
                try:
                    a_tag = perfil.find('a')
                    if a_tag and a_tag.contents and isinstance(a_tag.contents[0], str):
                        nome = a_tag.contents[0].strip()
                        if "Display" in nome:
                            nome = nome.split("Display")[0].strip()
                        primeiros_nomes.append(nome)
                    else:
                        nome = 'N/A'
                
                    fiche = perfil.find_next('table', class_='fiche')
                    if fiche:
                        # Capturando o signo (Sun)
                        sun_element = fiche.find('td', string=re.compile('Sun:'))
                        sun = sun_element.find_next_sibling('td').get_text(strip=True).split()[-1] if sun_element else 'N/A'
    
                        # Capturando o ascendente (AS)
                        ascendant_element = fiche.find('td', string=re.compile('AS:'))
                        ascendant = ascendant_element.find_next_sibling('td').get_text(strip=True).split()[-1] if ascendant_element else 'N/A'
    
                        # Capturando a lua (Moon)
                        moon_element = fiche.find('td', string=re.compile('Moon:'))
                        moon = moon_element.find_next_sibling('td').get_text(strip=True).split()[-1] if moon_element else 'N/A'
    
                        # Capturando o dia da semana, cidade e país de nascimento
                        born_element = fiche.find('td', string=re.compile('Born:|Event:'))
                        event_type = 'Born' if born_element and 'Born:' in born_element.get_text() else 'Event'
                        born_date = born_element.find_next_sibling('td').get_text(strip=True) if born_element else 'N/A'
                        born_in_element = fiche.find('td', string=re.compile('In:'))
                        born_in = born_in_element.find_next_sibling('td').get_text(strip=True) if born_in_element else 'N/A'
                        city, country = 'N/A', 'N/A'
                        if born_in != 'N/A':
                            if "(" in born_in and ")" in born_in:
                                city_country = born_in.split('(')
                                city = city_country[0].strip()
                                country = city_country[1].replace(')', '').strip()
                            else:
                                city_country = born_in.rsplit(' ', 1)
                                city = city_country[0].strip()
                                country = city_country[1].strip() if len(city_country) > 1 else 'N/A'
                        
                        # Corrigindo valores de país
                        if re.match(r'\d+', country):
                            country = 'France'
                        if country in us_states:
                            country = 'United States'
                        if ',' in country:
                            country = country.split(',')[-1].strip()
    
                        # Capturando os dominantes
                        dominants_element = fiche.find('td', string=re.compile('Dominants:'))
                        dominants = dominants_element.find_next_sibling('td').get_text(" ", strip=True) if dominants_element else 'N/A'
    
                        # Capturando a numerologia
                        numerology_element = fiche.find('td', string=re.compile('Numerology:'))
                        numerology = numerology_element.find_next_sibling('td').get_text(strip=True) if numerology_element else 'N/A'
                        
                        # Capturando casas e elementos
                        if dominants != 'N/A':
                            dominants_split = dominants.split('/')
                            houses = re.findall(r'\d+', dominants_split[0]) if len(dominants_split) > 0 else ['N/A']
                            elements = dominants_split[1].strip() if len(dominants_split) > 1 else 'N/A'
                            cardinal = dominants_split[2].strip() if len(dominants_split) > 2 else 'N/A'
                        else:
                            houses, elements, cardinal = ['N/A'], 'N/A', 'N/A'
                    else:
                        sun, ascendant, moon, born_date, city, country, dominants, numerology, houses, elements, cardinal = 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', ['N/A'], 'N/A', 'N/A'
    
                except AttributeError:
                    sun, ascendant, moon, born_date, city, country, dominants, numerology, houses, elements, cardinal = 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', 'N/A', ['N/A'], 'N/A', 'N/A'
                
                try:
                    if event_type == 'Born':
                        biografia_div = perfil.find_next('div', style="font-weight: bold; margin: 8px auto 3px").find_next('p')
                        if biografia_div:
                            biografia_texto = biografia_div.get_text().lower()
                            profissao = next((prof for prof in profissoes_lista if prof in biografia_texto), 'N/A')
                        else:
                            profissao = 'N/A'
                    else:
                        profissao = 'world event'
                except AttributeError:
                    profissao = 'N/A'
    
                dia, mes, ano, dia_semana = 'N/A', 'N/A', 'N/A', 'N/A'
                if born_date != 'N/A':
                    try:
                        parts = born_date.split(',')
                        parts2 = data.split('-')
                        dia_semana = parts[0].strip()
                        dia, mes, ano = parts2[1], parts2[0].capitalize(), parts[2].strip()
                    except ValueError:
                        dia_semana, dia, mes, ano = 'N/A', 'N/A', 'N/A', 'N/A'
    
                dados.append({
                    'Nome': nome,
                    'Signo': sun,
                    'Ascendente': ascendant,
                    'Lua': moon,
                    'Profissão': profissao,
                    'Dia da Semana': dia_semana,
                    'Dia': dia,
                    'Mês': mes,
                    'Ano': ano,
                    'Cidade': city,
                    'País': country,
                    'Dominantes': dominants,
                    'Casas': ', '.join(houses),
                    'Elementos': elements,
                    'Cardinal': cardinal,
                    'Numerologia': numerology
                })
    
                print(f"Nome: {nome}, Signo: {sun}, Ascendente: {ascendant}, Lua: {moon}, Profissão: {profissao}, Dia da Semana: {dia_semana}, Dia: {dia}, Mês: {mes}, Ano: {ano}, Cidade: {city}, País: {country}, Dominantes: {dominants}, Casas: {houses}, Elementos: {elements}, Cardinal: {cardinal}, Numerologia: {numerology}")
    
            return dados, primeiros_nomes
    
        def main():
            base_url = f'https://www.astrotheme.com/birthdays/{data}/'
            page_number = 1
            all_dados = []
            visited_first_names = set()
    
            while True:
                url = f'{base_url}{page_number}.htm'
                conteudo = verificar_acesso(url)
                if conteudo:
                    dados_pagina, primeiros_nomes = coletar_dados_perfil(conteudo)
                    if not dados_pagina or (primeiros_nomes and primeiros_nomes[0] in visited_first_names):  # Se não houver perfis ou o primeiro nome se repetir, parar a execução
                        break
                    visited_first_names.add(primeiros_nomes[0])
                    all_dados.extend(dados_pagina)
                    page_number += 1
                else:
                    break
    
            # Salvar dados em um DataFrame pandas
            colunas = ['Nome', 'Signo', 'Ascendente', 'Lua', 'Profissão', 'Dia da Semana', 'Dia', 'Mês', 'Ano', 'Cidade', 'País', 'Dominantes', 'Casas', 'Elementos', 'Cardinal', 'Numerologia']
            df = pd.DataFrame(all_dados, columns=colunas)
            df.to_csv(f'celebridades_{data}.csv', index=False)
            print(f"Total de perfis coletados: {len(all_dados)}")
    
            return df
    
        if __name__ == '__main__':
            df_celebridades = main()
</div>  


<div class="card">
<h2>Código Python para geração dos plots</h2>
<pre><code class="python">
    import pandas as pd
    import matplotlib.pyplot as plt
    
    # Caminho do arquivo total.csv
    file_path = '/Users/smx/Desktop/estatisticas/total.csv'
    
    # Ler o arquivo CSV em um DataFrame
    df = pd.read_csv(file_path)
    
    # Verificar as primeiras linhas do DataFrame para entender a estrutura
    print(df.head())
    
    # Verificar quais colunas estão disponíveis
    print(df.columns)
    
    # Função para agrupar profissões similares
    def agrupar_profissoes(profissao):
        if profissao in ['actor', 'actress', 'comedian']:
            return 'actor/comedian'
        elif profissao in ['author', 'writer', 'novelist']:
            return 'author/writer'
        elif profissao in ['singer', 'musician', 'composer']:
            return 'singer/musician'
        elif profissao == 'tv/radio host':
            return 'tv/radio host'
        elif profissao == 'youtuber':
            return 'youtuber'
        elif profissao == 'athlete':
            return 'athlete'
        elif profissao == 'mountaineer':
            return 'mountaineer'
        elif profissao == 'chess player':
            return 'chess player'
        elif profissao == 'bridge player':
            return 'bridge player'
        elif profissao in ['painter', 'sculptor', 'cartoonist', 'photographer']:
            return 'artist'
        elif profissao in ['spiritualist', 'astrologer', 'occultist']:
            return 'spiritualist'
        elif profissao == 'scientist':
            return 'scientist'
        elif profissao == 'inventor':
            return 'inventor'
        elif profissao == 'architect':
            return 'architect'
        elif profissao in ['chronicler', 'commentator']:
            return 'commentator'
        elif profissao == 'world event':
            return 'world event'
        elif profissao == 'politician':
            return 'politician'
        elif profissao == 'historian':
            return 'historian'
        elif profissao == 'lawyer':
            return 'lawyer'
        elif profissao == 'journalist':
            return 'journalist'
        else:
            return 'other'
    
    # Aplicar a função de agrupamento de profissões
    df['Profissão Agrupada'] = df['Profissão'].apply(agrupar_profissoes)
    
    # Contar a frequência de cada profissão agrupada
    profession_counts = df['Profissão Agrupada'].value_counts()
    
    # Criar o histograma
    plt.figure(figsize=(10, 6))
    profession_counts.plot(kind='bar')
    plt.xlabel('Profissões Agrupadas')
    plt.ylabel('Frequência')
    plt.title('Histograma das Profissões Agrupadas')
    plt.xticks(rotation=90)
    plt.tight_layout()
    plt.show()

</div>  


<div class="card">
<h2>Código Python para geração dos plots 2</h2>
<pre><code class="python">
    import pandas as pd
    import matplotlib.pyplot as plt
    
    # Função para agrupar profissões similares
    def agrupar_profissoes(profissao):
        if profissao in ['actor', 'actress', 'comedian']:
            return 'actor_comedian'
        elif profissao in ['author', 'writer', 'novelist']:
            return 'author_writer'
        elif profissao in ['singer', 'musician', 'composer']:
            return 'singer_musician'
        elif profissao == 'tv/radio host':
            return 'tv_radio_host'
        elif profissao == 'youtuber':
            return 'youtuber'
        elif profissao == 'athlete':
            return 'athlete'
        elif profissao == 'mountaineer':
            return 'mountaineer'
        elif profissao in ['chess player', 'bridge player']:
            return 'game_player'
        elif profissao in ['painter', 'sculptor', 'cartoonist', 'photographer']:
            return 'artist'
        elif profissao in ['spiritualist', 'astrologer', 'occultist']:
            return 'spiritualist'
        elif profissao == 'scientist':
            return 'scientist'
        elif profissao == 'inventor':
            return 'inventor'
        elif profissao == 'architect':
            return 'architect'
        elif profissao in ['chronicler', 'commentator']:
            return 'commentator'
        elif profissao == 'world event':
            return 'world_event'
        elif profissao == 'politician':
            return 'politician'
        elif profissao == 'historian':
            return 'historian'
        elif profissao == 'lawyer':
            return 'lawyer'
        elif profissao == 'journalist':
            return 'journalist'
        else:
            return 'other'
    
    # Caminho do arquivo total.csv
    file_path = '/Users/smx/Desktop/estatisticas/total.csv'
    
    # Ler o arquivo CSV em um DataFrame
    df = pd.read_csv(file_path)
    
    # Aplicar a função de agrupamento de profissões
    df['Profissão Agrupada'] = df['Profissão'].apply(agrupar_profissoes)
    
    # Definir a ordem tradicional dos signos do zodíaco
    zodiac_order = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces']
    
    # Calcular as porcentagens
    def calculate_percentages(df, group_by_column, exclude_unknown=False):
        percentages = {}
        for profession in df['Profissão Agrupada'].unique():
            df_profession = df[df['Profissão Agrupada'] == profession]
            if exclude_unknown:
                df_profession = df_profession[df_profession[group_by_column] != 'Unknown']
            total_count = len(df_profession)
            group_counts = df_profession[group_by_column].value_counts()
            percentages[profession] = {group: (count, (count / total_count) * 100) for group, count in group_counts.items()}
        return percentages
    
    # Calcular as porcentagens por signo
    sign_percentages = calculate_percentages(df, 'Signo')
    
    # Calcular as porcentagens por ascendente, excluindo 'Unknown'
    ascendant_percentages = calculate_percentages(df, 'Ascendente', exclude_unknown=True)
    
    # Calcular as porcentagens por lua
    moon_percentages = calculate_percentages(df, 'Lua')
    
    # Calcular as porcentagens por dia da semana
    weekday_percentages = calculate_percentages(df, 'Dia da Semana')
    
    # Função para plotar porcentagens por grupo
    def plot_percentages(percentages, title, group_labels, filename_suffix, exclude_unknown=False):
        for profession, data in percentages.items():
            values = [data[label][1] if label in data else 0 for label in group_labels]
            total_profession = sum([data[label][0] if label in data else 0 for label in group_labels])
            plot_title = f'Percentage of {profession} by {title} (Total: {total_profession})'
            if exclude_unknown:
                plot_title += ', Excluding Unknown'
    
            plt.figure(figsize=(8, 4))
            plt.bar(group_labels, values)
            plt.xlabel(title)
            plt.ylabel('Percentage')
            plt.title(plot_title)
            plt.xticks(rotation=0)
            plt.tight_layout()
            plot_filename = f'{profession}_{filename_suffix}.png'
            plt.savefig(plot_filename)
            plt.close()
    
    # Plotar porcentagens por signo
    plot_percentages(sign_percentages, 'Zodiac Signs', zodiac_order, 'sign')
    
    # Plotar porcentagens por ascendente, excluindo 'Unknown'
    plot_percentages(ascendant_percentages, 'Ascendants', zodiac_order, 'ascendant', exclude_unknown=True)
    
    # Plotar porcentagens por lua
    plot_percentages(moon_percentages, 'Moons', zodiac_order, 'moon')
    
    # Plotar porcentagens por dia da semana
    weekday_order = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
    plot_percentages(weekday_percentages, 'Days of the Week', weekday_order, 'weekday')      
    
</div>  

<hr>
<div class="email">ytsejam_maxpower@yahoo.com.br</div>

</body>
</html>
